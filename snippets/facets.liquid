{% comment %}
  facets.liquid:
  Updated to display all filter options together within a single drawer.
  Filters include Availability, Price, Color, Size, etc.
{% endcomment %}

{{ 'component-show-more.css' | asset_url | stylesheet_tag }}
{{ 'component-swatch-input.css' | asset_url | stylesheet_tag }}
{{ 'component-swatch.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign sort_by = results.sort_by | default: results.default_sort_by
  assign total_active_values = 0
  assign default_presentation = 'text'
  if results.url
    assign results_url = results.url
  else
    assign terms = results.terms | escape
    assign results_url = '?q=' | append: terms | append: '&options%5Bprefix%5D=last&sort_by=' | append: sort_by
  endif
-%}

<div class="facets-container{% if filter_type == 'drawer' %} facets-container-drawer{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}">
  
  {%- if filter_type == 'vertical' or filter_type == 'horizontal' -%}
    <facet-filters-form class="facets small-hide">
      <form
        id="FacetFiltersForm"
        class="{% if filter_type == 'horizontal' %}facets__form{% else %}facets__form-vertical{% endif %}"
      >
        {%- if results.terms -%}
          <input type="hidden" name="q" value="{{ results.terms | escape }}">
          <input name="options[prefix]" type="hidden" value="last">
        {%- endif -%}

        {% if enable_filtering %}
          <div id="FacetsWrapperDesktop" class="{% if filter_type == 'horizontal' %}facets__wrapper{% endif %}">
            
            {%- if filter_type == 'horizontal' and results.filters != empty -%}
              <h2 class="facets__heading caption-large text-body" id="filterHeading" tabindex="-1">
                {{ 'products.facets.filter_by_label' | t }}
              </h2>
            {%- endif -%}

            {%- if filter_type == 'vertical' -%}
              <div class="active-facets active-facets-desktop">
                <div class="active-facets-vertical-filter">
                  {%- unless results.filters == empty -%}
                    <h2
                      class="facets__heading facets__heading--vertical caption-large text-body"
                      id="verticalTitle"
                      tabindex="-1"
                    >
                      {{ 'products.facets.filter_by_label' | t }}
                    </h2>
                  {%- endunless -%}
                  <facet-remove class="active-facets__button-wrapper">
                    <a href="{{ results_url }}" class="active-facets__button-remove underlined-link">
                      <span>{{ 'products.facets.clear_all' | t }}</span>
                    </a>
                  </facet-remove>
                </div>
                {%- for filter in results.filters -%}
                  {%- for value in filter.active_values -%}
                    <facet-remove>
                      <a href="{{ value.url_to_remove }}" class="active-facets__button active-facets__button--light" data-filter-param="{{ filter.param_name }}" data-filter-value="{{ value.value }}">
                        <span class="active-facets__button-inner button button--tertiary">
                          {{ filter.label | escape }}: {{ value.label | escape }}
                          <span class="svg-wrapper">
                            {{- 'icon-close-small.svg' | inline_asset_content -}}
                          </span>
                          <span class="visually-hidden">{{ 'products.facets.clear_filter' | t }}</span>
                        </span>
                      </a>
                    </facet-remove>
                  {%- endfor -%}
                  {% if filter.type == 'price_range' %}
                    {% assign min = filter.min_value.value %}
                    {% assign max = filter.max_value.value %}
                    {%- if min != null or max != null -%}
                      <facet-remove>
                        <a href="{{ filter.url_to_remove }}" class="active-facets__button active-facets__button--light">
                          <span class="active-facets__button-inner button button--tertiary">
                            {{ min | default: 0 | money }} - {{ max | default: filter.range_max | money }}
                            <span class="svg-wrapper">
                              {{- 'icon-close-small.svg' | inline_asset_content -}}
                            </span>
                            <span class="visually-hidden">{{ 'products.facets.clear_filter' | t }}</span>
                          </span>
                        </a>
                      </facet-remove>
                    {%- endif -%}
                  {% endif %}
                {%- endfor -%}
              </div>
            {%- endif -%}

            <!-- Unified Filter Display Starts Here -->
            <div class="unified-filters">
              {%- for filter in results.filters -%}
                {% assign presentation = filter.presentation | default: default_presentation %}
                <div class="facet facet-{{ filter.param_name }}">
                  <h3 class="facet__title">{{ filter.label | escape }}</h3>
                  
                  {% case filter.type %}
                    {% when 'boolean', 'list' %}
                      <ul class="facet__options">
                        {%- for value in filter.values -%}
                          {% assign input_id = 'Filter-' | append: filter.param_name | escape | append: '-' | append: forloop.index %}
                          {% assign is_disabled = false %}
                          {% if value.count == 0 and value.active == false %}
                            {% assign is_disabled = true %}
                          {% endif %}

                          <li class="facet__item{% if forloop.index > 10 and filter_type == 'vertical' %} show-more-item hidden{% endif %}">
                            {% if presentation == 'swatch' %}
                              <div class="facet__swatch">
                                {% render 'swatch-input',
                                  id: input_id,
                                  type: 'checkbox',
                                  name: value.param_name,
                                  value: value.value,
                                  product_form_id: 'FacetFiltersForm',
                                  swatch: value.swatch,
                                  checked: value.active,
                                  disabled: is_disabled,
                                  data_filter_param: value.param_name,
                                  data_filter_value: value.value
                                %}
                                <label for="{{ input_id }}" class="facet__label{% if is_disabled %} disabled{% endif %}{% if value.active %} active{% endif %}">
                                  {{ value.label }} ({{ value.count }})
                                </label>
                              </div>
                            {% else %}
                              <label for="{{ input_id }}" class="facet__label{% if is_disabled %} disabled{% endif %}{% if value.active %} active{% endif %}">
                                <input
                                  type="checkbox"
                                  name="{{ value.param_name }}"
                                  value="{{ value.value }}"
                                  id="{{ input_id }}"
                                  data-filter-param="{{ value.param_name }}"
                                  data-filter-value="{{ value.value }}"
                                  {% if value.active %}
                                    checked
                                  {% endif %}
                                  {% if is_disabled %}
                                    disabled
                                  {% endif %}
                                >
                                <span class="facet__checkbox-text">
                                  {{ value.label }} ({{ value.count }})
                                </span>
                              </label>
                            {% endif %}
                          </li>
                        {%- endfor -%}
                      </ul>

                      {% if filter.values.size > 10 and filter_type == 'vertical' %}
                        <button type="button" class="button-show-more" data-filter-index="{{ forloop.index }}">
                          <span class="label-show-more">{{ 'products.facets.show_more' | t }}</span>
                          <span class="label-show-less hidden">{{ 'products.facets.show_less' | t }}</span>
                        </button>
                      {% endif %}
                    {% when 'price_range' %}
                      <div class="facet__price-range">
                        <label for="PriceRange">{{ 'products.facets.price_range_label' | t }}</label>
                        {% render 'price-facet', filter: filter, id_prefix: 'Filter-', filter_type: filter_type %}
                      </div>
                    {% else %}
                      <!-- Handle other filter types if necessary -->
                  {% endcase %}
                </div>
              {%- endfor -%}
            </div>
            <!-- Unified Filter Display Ends Here -->

            <!-- Clear All Filters Button -->
            <div class="facets__clear-all">
              <a href="{{ results_url }}" class="underlined-link">
                {{ 'products.facets.clear_all' | t }}
              </a>
            </div>
          </div>
        {% endif %}

        {% if enable_sorting %}
          <div class="facet facet-sorting">
            <label for="SortBy">{{ 'products.facets.sort_by_label' | t }}</label>
            <select name="sort_by" id="SortBy" class="facet__sort-select">
              {%- for option in results.sort_options -%}
                <option value="{{ option.value | escape }}" {% if option.value == sort_by %}selected{% endif %}>
                  {{ option.name | escape }}
                </option>
              {%- endfor -%}
            </select>
          </div>
        {% endif %}

        <!-- Product Count Display -->
        {% if filter_type == 'horizontal' %}
          <div class="product-count light" role="status">
            <h2 class="product-count__text text-body">
              <span id="ProductCountDesktop">
                {%- if results.results_count -%}
                  {{ 'templates.search.results_with_count' | t: terms: results.terms, count: results.results_count }}
                {%- elsif results.products_count == results.all_products_count -%}
                  {{ 'products.facets.product_count_simple' | t: count: results.products_count }}
                {%- else -%}
                  {{
                    'products.facets.product_count'
                    | t: product_count: results.products_count, count: results.all_products_count
                  }}
                {%- endif -%}
              </span>
            </h2>
            {%- render 'loading-spinner' -%}
          </div>
        {% endif %}

        <!-- Submit Button (optional if using AJAX) -->
        <button type="submit" class="button button--primary facets__apply-button">
          {{ 'products.facets.apply_filters' | t }}
        </button>
      </form>
    </facet-filters-form>
  {%- endif -%}

  {% comment %} Mobile Filter Drawer {% endcomment %}
  <menu-drawer
    class="mobile-facets__wrapper{% if filter_type == 'horizontal' or filter_type == 'vertical' %} medium-hide large-up-hide{% endif %}"
    data-breakpoint="mobile"
  >
    <details class="mobile-facets__disclosure disclosure-has-popup">
      <summary class="mobile-facets__open-wrapper focus-offset">
        <span class="mobile-facets__open{% if filter_type == 'drawer' and enable_filtering == false %} medium-hide large-up-hide{% endif %}">
          <span class="svg-wrapper">
            {{- 'icon-filter.svg' | inline_asset_content -}}
          </span>
          <span class="mobile-facets__open-label button-label medium-hide large-up-hide">
            {%- if enable_filtering and enable_sorting -%}
              {{ 'products.facets.filter_and_sort' | t }}
            {%- elsif enable_filtering -%}
              {{ 'products.facets.filter_button' | t }}
            {%- elsif enable_sorting -%}
              {{ 'products.facets.sort_button' | t }}
            {%- endif -%}
          </span>
          <span class="mobile-facets__open-label button-label small-hide">
            {%- if enable_filtering -%}
              {{ 'products.facets.filter_button' | t }}
            {%- endif -%}
          </span>
        </span>
        <span tabindex="0" class="mobile-facets__close">
          <span class="svg-wrapper">
            {{- 'icon-close.svg' | inline_asset_content -}}
          </span>
        </span>
      </summary>
      <facet-filters-form>
        <form id="FacetFiltersFormMobile" class="mobile-facets">
          <div class="mobile-facets__inner gradient">
            <div class="mobile-facets__header">
              <div class="mobile-facets__header-inner">
                <h2 class="mobile-facets__heading medium-hide large-up-hide">
                  {%- if enable_filtering and enable_sorting -%}
                    {{ 'products.facets.filter_and_sort' | t }}
                  {%- elsif enable_filtering -%}
                    {{ 'products.facets.filter_button' | t }}
                  {%- elsif enable_sorting -%}
                    {{ 'products.facets.sort_button' | t }}
                  {%- endif -%}
                </h2>
                <h2 class="mobile-facets__heading small-hide">
                  {%- if enable_filtering -%}
                    {{ 'products.facets.filter_button' | t }}
                  {%- endif -%}
                </h2>
                <p class="mobile-facets__count">
                  {%- if results.results_count -%}
                    {{ 'templates.search.results_with_count' | t: terms: results.terms, count: results.results_count }}
                  {%- elsif results.products_count == results.all_products_count -%}
                    {{ 'products.facets.product_count_simple' | t: count: results.products_count }}
                  {%- else -%}
                    {{
                      'products.facets.product_count'
                      | t: product_count: results.products_count, count: results.all_products_count
                    }}
                  {%- endif -%}
                </p>
              </div>
            </div>
            <div
              id="FacetsWrapperMobile"
              class="mobile-facets__main has-submenu gradient"
            >
              {% if enable_filtering %}
                {%- for filter in results.filters -%}
                  {% assign presentation = filter.presentation | default: default_presentation %}
                  <details class="mobile-facets__details mobile-facet mobile-facet-{{ filter.param_name }}">
                    <summary class="mobile-facets__summary">
                      <div>{{ filter.label | escape }}</div>
                      <span class="svg-wrapper">
                        {{- 'icon-caret.svg' | inline_asset_content -}}
                      </span>
                    </summary>

                    {% case filter.type %}
                      {% when 'boolean', 'list' %}
                        <ul class="mobile-facets__list mobile-facet__options">
                          {%- for value in filter.values -%}
                            {% assign input_id = 'Filter-' | append: filter.param_name | escape | append: '-mobile-' | append: forloop.index %}
                            {% assign is_disabled = false %}
                            {% if value.count == 0 and value.active == false %}
                              {% assign is_disabled = true %}
                            {% endif %}

                            <li class="mobile-facet__item">
                              {% if presentation == 'swatch' %}
                                <div class="mobile-facet__swatch">
                                  {% render 'swatch-input',
                                    id: input_id,
                                    type: 'checkbox',
                                    name: value.param_name,
                                    value: value.value,
                                    product_form_id: 'FacetFiltersFormMobile',
                                    swatch: value.swatch,
                                    checked: value.active,
                                    disabled: is_disabled,
                                    data_filter_param: value.param_name,
                                    data_filter_value: value.value
                                  %}
                                  <label for="{{ input_id }}" class="mobile-facet__label{% if is_disabled %} disabled{% endif %}">
                                    {{ value.label }} ({{ value.count }})
                                  </label>
                                </div>
                              {% else %}
                                <label for="{{ input_id }}" class="mobile-facet__label{% if is_disabled %} disabled{% endif %}{% if value.active %} active{% endif %}">
                                  <input
                                    type="checkbox"
                                    name="{{ value.param_name }}"
                                    value="{{ value.value }}"
                                    id="{{ input_id }}"
                                    data-filter-param="{{ value.param_name }}"
                                    data-filter-value="{{ value.value }}"
                                    {% if value.active %}
                                      checked
                                    {% endif %}
                                    {% if is_disabled %}
                                      disabled
                                    {% endif %}
                                  >
                                  <span class="mobile-facet__checkbox-text">
                                    {{ value.label }}
                                  </span>
                                </label>
                              {% endif %}
                            </li>
                          {%- endfor -%}
                        </ul>
                      {% when 'price_range' %}
                        <div class="mobile-facet__price-range">
                          {% render 'price-facet', filter: filter, id_prefix: 'Mobile-Filter-', filter_type: filter_type %}
                        </div>
                      {% else %}
                        <!-- Handle other filter types if necessary -->
                    {% endcase %}
                  </details>
                {%- endfor -%}
              {% endif %}

              {% if enable_sorting %}
                <div class="mobile-facet mobile-facet-sorting">
                  <label for="SortBy-mobile">{{ 'products.facets.sort_by_label' | t }}</label>
                  <select name="sort_by" id="SortBy-mobile" class="mobile-facet__sort-select">
                    {%- for option in results.sort_options -%}
                      <option value="{{ option.value | escape }}" {% if option.value == sort_by %}selected{% endif %}>
                        {{ option.name | escape }}
                      </option>
                    {%- endfor -%}
                  </select>
                </div>
              {% endif %}

              <!-- Clear All Filters and Apply Button -->
              <div class="mobile-facets__footer gradient">
                <facet-remove class="mobile-facets__clear-wrapper">
                  <a href="{{ results_url }}" class="mobile-facets__clear underlined-link">
                    {{- 'products.facets.clear_all' | t -}}
                  </a>
                </facet-remove>
                <button
                  type="button"
                  class="button button--primary"
                  onclick="this.closest('.mobile-facets__wrapper').querySelector('summary').click()"
                >
                  {{ 'products.facets.apply' | t }}
                </button>
              </div>
            </div>
          </div>
          {%- if results.current_vendor or results.current_type -%}
            <input type="hidden" name="q" value="{{ results.current_vendor }}{{ results.current_type }}">
          {%- endif -%}

          {%- if results.terms -%}
            <input type="hidden" name="q" value="{{ results.terms | escape }}">
            <input name="options[prefix]" type="hidden" value="last">
          {%- endif -%}
        </div>
      </form>
    </facet-filters-form>
  </details>
</menu-drawer>

<!-- Active Filters for Mobile -->
<div class="active-facets active-facets-mobile medium-hide large-up-hide">
  {%- for filter in results.filters -%}
    {%- for value in filter.active_values -%}
      <facet-remove>
        <a href="{{ value.url_to_remove }}" class="active-facets__button active-facets__button--light" data-filter-param="{{ filter.param_name }}" data-filter-value="{{ value.value }}">
          <span class="active-facets__button-inner button button--tertiary">
            {{ filter.label | escape }}: {{ value.label | escape }}
            <span class="svg-wrapper">
              {{- 'icon-close-small.svg' | inline_asset_content -}}
            </span>
            <span class="visually-hidden">{{ 'products.facets.clear_filter' | t }}</span>
          </span>
        </a>
      </facet-remove>
    {%- endfor -%}

    {%- if filter.type == 'price_range' -%}
      {% assign min = filter.min_value.value %}
      {% assign max = filter.max_value.value %}
      {%- if min != null or max != null -%}
        <facet-remove>
          <a href="{{ filter.url_to_remove }}" class="active-facets__button active-facets__button--light">
            <span class="active-facets__button-inner button button--tertiary">
              {{ min | default: 0 | money }} - {{ max | default: filter.range_max | money }}
              <span class="svg-wrapper">
                {{- 'icon-close-small.svg' | inline_asset_content -}}
              </span>
              <span class="visually-hidden">{{ 'products.facets.clear_filter' | t }}</span>
            </span>
          </a>
        </facet-remove>
      {%- endif -%}
    {%- endif -%}
  {%- endfor -%}
  <facet-remove class="active-facets__button-wrapper">
    <a href="{{ results_url }}" class="active-facets__button-remove underlined-link">
      <span>{{ 'products.facets.clear_all' | t }}</span>
    </a>
  </facet-remove>
</div>

{% comment %}
  Sorting and product count for 'drawer' filter type
{% endcomment %}
{%- if enable_sorting and filter_type == 'drawer' -%}
  <facet-filters-form class="facets small-hide">
    <form id="FacetSortDrawerForm" class="facets__form">
      <div class="facet-filters sorting caption small-hide">
        <div class="facet-filters__field">
          <h2 class="facet-filters__label caption-large text-body">
            <label for="SortBy">{{ 'products.facets.sort_by_label' | t }}</label>
          </h2>
          <div class="select">
            {%- assign sort_by = results.sort_by | default: results.default_sort_by -%}
            <select
              name="sort_by"
              class="facet-filters__sort select__select caption-large"
              id="SortBy"
              aria-describedby="a11y-refresh-page-message"
            >
              {%- for option in results.sort_options -%}
                <option
                  value="{{ option.value | escape }}"
                  {% if option.value == sort_by %}
                    selected="selected"
                  {% endif %}
                >
                  {{ option.name | escape }}
                </option>
              {%- endfor -%}
            </select>
            <span class="svg-wrapper">
              {{- 'icon-caret.svg' | inline_asset_content -}}
            </span>
          </div>
        </div>
      </div>

      {% if results.current_vendor or results.current_type %}
        <input type="hidden" name="q" value="{{ results.current_vendor }}{{ results.current_type }}">
      {% endif %}

      {%- if results.terms -%}
        <input type="hidden" name="q" value="{{ results.terms | escape }}">
        <input name="options[prefix]" type="hidden" value="last">
      {%- endif -%}
    </form>
  </facet-filters-form>
{%- endif -%}

<!-- Product Count Display for Drawer -->
<div
  class="product-count light{% if filter_type == 'vertical' or filter_type == 'horizontal' %} medium-hide large-up-hide{% endif %}"
  role="status"
>
  <h2 class="product-count__text text-body">
    <span id="ProductCount">
      {%- if results.results_count -%}
        {{ 'templates.search.results_with_count' | t: terms: results.terms, count: results.results_count }}
      {%- elsif results.products_count == results.all_products_count -%}
        {{ 'products.facets.product_count_simple' | t: count: results.products_count }}
      {%- else -%}
        {{
          'products.facets.product_count'
          | t: product_count: results.products_count, count: results.all_products_count
        }}
      {%- endif -%}
    </span>
  </h2>
  {%- render 'loading-spinner' -%}
</div>

{%- if filter_type == 'drawer' -%}
  <facet-filters-form class="facets facets-pill small-hide">
    <form id="FacetFiltersPillsForm" class="facets__form">
      <div class="active-facets active-facets-desktop">
        {%- for filter in results.filters -%}
          {%- for value in filter.active_values -%}
            <facet-remove>
              <a href="{{ value.url_to_remove }}" class="active-facets__button active-facets__button--light" data-filter-param="{{ filter.param_name }}" data-filter-value="{{ value.value }}">
                <span class="active-facets__button-inner button button--tertiary">
                  {{ filter.label | escape }}: {{ value.label | escape }}
                  <span class="svg-wrapper">
                    {{- 'icon-close-small.svg' | inline_asset_content -}}
                  </span>
                  <span class="visually-hidden">{{ 'products.facets.clear_filter' | t }}</span>
                </span>
              </a>
            </facet-remove>
          {%- endfor -%}

          {%- if filter.type == 'price_range' -%}
            {% assign min = filter.min_value.value %}
            {% assign max = filter.max_value.value %}
            {%- if min != null or max != null -%}
              <facet-remove>
                <a href="{{ filter.url_to_remove }}" class="active-facets__button active-facets__button--light">
                  <span class="active-facets__button-inner button button--tertiary">
                    {{ min | default: 0 | money }} - {{ max | default: filter.range_max | money }}
                    <span class="svg-wrapper">
                      {{- 'icon-close-small.svg' | inline_asset_content -}}
                    </span>
                    <span class="visually-hidden">{{ 'products.facets.clear_filter' | t }}</span>
                  </span>
                </a>
              </facet-remove>
            {%- endif -%}
          {%- endif -%}
        {%- endfor -%}
        <facet-remove class="active-facets__button-wrapper">
          <a href="{{ results_url }}" class="active-facets__button-remove underlined-link">
            <span>{{ 'products.facets.clear_all' | t }}</span>
          </a>
        </facet-remove>
      </div>
    </form>
  </facet-filters-form>
{%- endif -%}

</div>

<!-- Include necessary JavaScript files -->
<script src="{{ 'show-more.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'facets.js' | asset_url }}" defer="defer"></script>

<!-- JavaScript Fix for Removing Active States -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.active-facets__button').forEach(function(link) {
      link.addEventListener('click', function() {
        // Get the filter identifier from the data attributes
        var filterParam = this.getAttribute('data-filter-param');
        var filterValue = this.getAttribute('data-filter-value');
        if (filterParam && filterValue) {
          // Find the matching input within the filter forms (desktop & mobile if necessary)
          var selector = 'input[name="' + filterParam + '"][value="' + filterValue + '"]';
          var input = document.querySelector(selector);
          if (input) {
            // Uncheck the input
            input.checked = false;
            // Remove the active class from its label
            var label = input.closest('label');
            if (label) {
              label.classList.remove('active');
            }
          }
        }
      });
    });
  });
</script>

<style>
  /* Unified Filter Drawer Styling */
  .unified-filters {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .facet {
    border-bottom: 1px solid #eaeaea;
    padding-bottom: 15px;
  }

  .facet__title {
    font-size: 1.1em;
    margin-bottom: 10px;
    font-weight: bold;
  }

  .facet__options {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .facet__item {
    margin-bottom: 8px;
  }

  .facet__label {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-size: 0.95em;
  }

  .facet__label.disabled {
    color: #999;
    cursor: not-allowed;
  }

  .facet__label.active {
    font-weight: bold;
  }

  .facet__swatch {
    display: flex;
    align-items: center;
  }

  .facet__swatch input {
    margin-right: 8px;
  }

  .facet__price-range {
    /* Add your price range slider styling here */
  }

  .facets__clear-all {
    margin-top: 20px;
  }

  .facets__clear-all a {
    color: #007bff;
    text-decoration: none;
  }

  .facets__clear-all a:hover {
    text-decoration: underline;
  }

  /* Button Show More/Less */
  .button-show-more {
    background: none;
    border: none;
    color: #007bff;
    cursor: pointer;
    padding: 0;
    font-size: 0.95em;
  }

  .button-show-more .label-show-less {
    display: none;
  }

  .button-show-more.active .label-show-more {
    display: none;
  }

  .button-show-more.active .label-show-less {
    display: inline;
  }

  /* Mobile Facet Styles */
  .mobile-facet {
    margin-bottom: 0px;
  }

  .mobile-facet__title {
    font-size: 1.1em;
    margin-bottom: 10px;
    font-weight: bold;
  }

  .mobile-facet__options {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .mobile-facet__item {
    margin-bottom: 8px;
  }

  .mobile-facet__label {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-size: 0.95em;
  }

  .mobile-facet__label.disabled {
    color: #999;
    cursor: not-allowed;
  }

  .mobile-facet__label.active {
    font-weight: bold;
  }

  .mobile-facet__checkbox-text {
    color: black;
  }

  .mobile-facet__swatch {
    display: flex;
    align-items: center;
  }

  .mobile-facet__swatch input {
    margin-right: 8px;
  }

  .mobile-facet__price-range {
    /* Add your mobile price range slider styling here */
  }

  .mobile-facets__footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 20px;
  }

  /* Active Filters Styling */
  .active-facets__button {
    display: inline-flex;
    align-items: center;
    margin-right: 10px;
    margin-bottom: 10px;
  }

  .active-facets__button-inner {
    background-color: #f5f5f5;
    padding: 5px 10px;
    border-radius: 20px;
    display: flex;
    align-items: center;
  }

  .active-facets__button-inner .svg-wrapper {
    margin-left: 5px;
  }

  /* Sorting Select Styling */
  .facet-sorting label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }

  .facet-sorting select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  /* Product Count Styling */
  .product-count__text {
    font-size: 1em;
    margin: 0;
  }

  /* Responsive Adjustments */
  @media screen and (max-width: 749px) {
    .unified-filters {
      gap: 15px;
    }

    .facet__title {
      font-size: 1em;
    }

    .facet__checkbox-text {
      font-size: 0.9em;
    }

    .facet-sorting select {
      padding: 6px;
    }
  }


.mobile-facet__label {

}

div.mobile-facet__swatch .swatch-input__input {
  display:none;
}

div.mobile-facet__swatch .mobile-facet__label {
  display: none;
}

#FacetsWrapperMobile > div.mobile-facet.mobile-facet-filter\.v\.t\.shopify\.color-pattern > ul {
  max-width: 100%!important;
  display: flex;
  flex-wrap: wrap; /* Allow wrapping to next row */
  margin-left: 20px;
  margin-right: 20px;
}


#FacetsWrapperMobile > div.mobile-facet.mobile-facet-filter\.v\.t\.shopify\.color-pattern > ul {}

#FacetsWrapperMobile > div.mobile-facet.mobile-facet-filter\.v\.t\.shopify\.color-pattern > ul > li {
  flex: 0 0 calc(100% / 8); /* Adjust width to fit 7 per row, minus some margin */
}

.mobile-facet__title {
  margin-left: 20px;
}

#Filter-filter\.v\.t\.shopify\.size-mobile-1 {
  display: none;
}

#Filter-filter\.v\.t\.shopify\.size-mobile-2 {
  display: none;
}

#Filter-filter\.v\.t\.shopify\.size-mobile-3 {
  display: none;
}

#Filter-filter\.v\.t\.shopify\.size-mobile-4 {
  display: none;
}

#Filter-filter\.v\.t\.shopify\.size-mobile-5 {
  display: none;
}

#Filter-filter\.v\.t\.shopify\.size-mobile-6 {
  display: none;
}

#Filter-filter\.v\.t\.shopify\.size-mobile-7 {
  display: none;
}

#Filter-filter\.v\.t\.shopify\.size-mobile-8 {
  display: none;
}

#FacetsWrapperMobile > div.mobile-facet.mobile-facet-filter\.v\.t\.shopify\.size > ul > li > label {
  width: 100%;
  justify-content: center;
}

#FacetsWrapperMobile > div.mobile-facet.mobile-facet-filter\.v\.t\.shopify\.size > ul {
  max-width: 100%!important;
  display: flex;
  flex-wrap: wrap; /* Allow wrapping to next row */
  margin-left: 20px;
  margin-right: 20px;
  }

#FacetsWrapperMobile > div.mobile-facet.mobile-facet-filter\.v\.t\.shopify\.size > ul > li {
    flex: 0 0 calc(100% / 4); /* Adjust width to fit 7 per row, minus some margin */
    border: 1px solid #969696;
    padding: 5px 10px;      /* Optional: Adds space between text and border */
    margin-right: 10px;
}

  /* Highlight active swatches */
.swatch-input__input:checked + .swatch-input__label .swatch {
  outline: 1px solid #000;
}

.mobile-facet__label input[type="checkbox"]:checked + .mobile-facet__checkbox-text {
  font-weight: bold;
}

  
</style>
