{%- comment -%}
  Renders a polaroid-style image section for editorial homepage layouts.
  Parameters:
    - image: (string, required) the image URL
    - label: (string, optional) bottom-right label (accepts HTML for line breaks)
    - border_color: (string, optional) default '#eaeada'
    - border_width: (string, optional) default '24px'
    - max_width: (string, optional) default '840px'
{%- endcomment -%}

{% assign border_color = border_color | default: '#eaeada' %}
{% assign border_width = border_width | default: '24px' %}
{% assign max_width = max_width | default: '840px' %}

<style>
  .polaroid-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 60vh;
    padding: 0;
    background: transparent;
  }
  .polaroid-frame {
    background: {{ border_color }};
    padding: {{ border_width }};
    box-sizing: border-box;
    max-width: {{ max_width }};
    width: 100%;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    box-shadow: 0 0 0 1px rgba(0,0,0,0.02);
    margin: 32px 0 0 0;
    transition: box-shadow 0.2s;
  }
  .polaroid-frame img {
    display: block;
    width: 100%;
    height: auto;
    border-radius: 0;
    box-shadow: none;
    object-fit: cover;
    background: #e6e6e6;
  }
  .polaroid-label {
    position: absolute;
    right: {{ border_width }};
    bottom: 10px;
    font-family: 'Figtree', 'Inter', Arial, sans-serif;
    font-size: 12px;
    line-height: 1.1;
    color: #222;
    text-align: right;
    letter-spacing: 0.04em;
    opacity: 0.88;
    pointer-events: none;
  }

  /* Mobile adjustments */
  @media (max-width: 700px) {
    .polaroid-section {
      min-height: 40vh;
    }
    .polaroid-frame {
      padding: 10px;
      max-width: 98vw;
      margin: 16px 0 0 0;
    }
    .polaroid-label {
      right: 10px;
      bottom: 6px;
      font-size: 10px;
    }
  }
</style>

<div class="polaroid-section">
  <div class="polaroid-frame">
    {% if image %}
      <img src="{{ image | image_url: width: 1400 }}" 
           alt="{{ label | strip_html | default: 'Polaroid' }}" 
           loading="lazy" />
    {% else %}
      <div style="width:100%;height:320px;background:#eee;display:flex;align-items:center;justify-content:center;color:#aaa;font-size:24px;">
        No Image
      </div>
    {% endif %}
    {% if label %}
      <div class="polaroid-label">
        {{ label }}
      </div>
    {% endif %}
  </div>
</div>
